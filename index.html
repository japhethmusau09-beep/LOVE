<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Love Letter ğŸ’Œ</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div id="hearts-container"></div>

  <!-- Creator Mode -->
  <header class="intro" id="creatorHeader">
    <h1>Create a Special Message</h1>
    <p>Romantic, Apology, Friendship, Family & more â¤ï¸</p>
    <button class="primary-btn" onclick="document.getElementById('creator').scrollIntoView({behavior:'smooth'})">Start Now</button>
  </header>

  <section id="creator" class="section">
    <div class="card">
      <input type="text" id="fromName" placeholder="Your Name">
      <input type="text" id="toName" placeholder="Their Name">
      <input type="date" id="specialDate">

      <h3>Message Type</h3>
      <select id="templateSelect" onchange="applyTemplate()">
        <option value="">Choose a template...</option>
        <option value="romantic">Romantic Love</option>
        <option value="apology">Apology</option>
        <option value="sorry">I'm Sorry</option>
        <option value="friendship">Friendship</option>
        <option value="longlost">Long Lost Friend</option>
        <option value="family">Family Love</option>
        <option value="birthday">Birthday Wish</option>
      </select>

      <textarea id="loveText" rows="10" placeholder="Your message will appear here... Edit as you like â¤ï¸"></textarea>
    </div>

    <div class="card">
      <h3>Add Photos (Max 3)</h3>
      <input type="file" id="photoInput" multiple accept="image/*" onchange="handlePhotos(event)">
      <div class="memory-grid" id="photoPreview"></div>
      <p id="photoWarning" style="color:#e63946;display:none;">Warning: More than 3 photos may break sharing!</p>
    </div>

    <div class="card">
      <h3>Choose a Song (Listen Below)</h3>
      <input type="text" id="youtubeLink" placeholder="Paste YouTube link here (e.g. https://youtube.com/watch?v=...)">
      <button class="primary-btn" onclick="previewSong()" style="margin:1rem 0;">Preview Song</button>
      <div class="youtube-frame" id="songPreview"></div>
    </div>

    <div class="card">
      <h3>Virtual Gifts</h3>
      <div class="gifts">
        <div class="gift" onclick="toggleGift(this,'ğŸŒ¹')">ğŸŒ¹</div>
        <div class="gift" onclick="toggleGift(this,'ğŸ«')">ğŸ«</div>
        <div class="gift" onclick="toggleGift(this,'ğŸ§¸')">ğŸ§¸</div>
        <div class="gift" onclick="toggleGift(this,'ğŸ’')">ğŸ’</div>
        <div class="gift" onclick="toggleGift(this,'ğŸ‚')">ğŸ‚</div>
        <div class="gift" onclick="toggleGift(this,'ğŸŒŸ')">ğŸŒŸ</div>
        <div class="gift" onclick="toggleGift(this,'â¤ï¸')">â¤ï¸</div>
        <div class="gift" onclick="toggleGift(this,'âœ¨')">âœ¨</div>
      </div>
    </div>

    <div class="card">
      <button class="primary-btn" onclick="generateLink()">Generate Magic Link</button>
      <input type="text" id="shareLink" readonly placeholder="Link will appear here..." style="margin-top:1rem;">
      
      <div style="margin-top:1.5rem;text-align:center;">
        <button class="primary-btn" onclick="shareWhatsApp()">Share via WhatsApp</button>
        <button class="primary-btn" onclick="copyLink()">Copy Link</button>
      </div>
    </div>
  </section>

  <!-- Viewer Mode -->
  <header id="viewerHeader" class="hidden">
    <div class="envelope" onclick="openEnvelope()">
      <div class="back"></div>
      <div class="flap"></div>
      <div class="label">Tap to Open ğŸ’Œ</div>
    </div>
  </header>

  <section id="viewer" class="section hidden">
    <h2 id="dear" style="text-align:center;"></h2>
    <div class="card progressive" id="progressive"></div>

    <div class="card memory-grid" id="viewerPhotos"></div>

    <div class="card" id="giftsCard" style="display:none;">
      <h3 style="text-align:center;">Special Gifts for You ğŸ’</h3>
      <div class="gifts" id="viewerGifts"></div>
    </div>

    <div class="card youtube-frame" id="youtubeFrame"></div>

    <div class="card" id="countdown" style="text-align:center;font-size:1.3rem;"></div>

    <div style="text-align:center;margin-top:2rem;">
      <button class="primary-btn" onclick="shareWhatsApp()">Share via WhatsApp</button>
      <button class="primary-btn" onclick="copyLink()">Copy Link</button>
    </div>
  </section>

  <script src="script.js"></script>
</body>
</html>